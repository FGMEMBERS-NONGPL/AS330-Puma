<?xml version="1.0"?>


<system name="fcs">

    <property value="1.5"> fcs/adj/center-sensitivity </property>
    <!--
        Higher center resolution for the other three controls, set to 1 for
        unmodified input, treat 2 as an upper limit.
        -->
    <channel name="longitudinal">
        <fcs_function name="fcs/elevator-cmd-norm-exmod">
            <description>
                Provide higher sensitivity when near center.
                new_input = sgn(input) * abs(input)**sensitivity,
                with sensitivity ranging between 1..2 .
            </description>
            <function>
                <product>
                    <sign> <property> fcs/elevator-cmd-norm </property> </sign>
                    <pow>
                        <abs> <property> fcs/elevator-cmd-norm </property> </abs>
                        <property> fcs/adj/center-sensitivity </property>
                    </pow>
                </product>
            </function>
    </fcs_function>
        <summer name="fcs/longitudinal-cmd-trim-sum">
            <input> fcs/elevator-cmd-norm-exmod </input>
            <input> fcs/pitch-trim-cmd-norm </input>
            <clipto>
                <min> -1.0 </min>
                <max>  1.0</max>
            </clipto>
        </summer>
        <lag_filter name="fcs/longitudinal-lag">
            <input> fcs/longitudinal-cmd-trim-sum </input>
            <c1>   20.0 </c1>
        </lag_filter>
        <pure_gain name="fcs/longitudinal-gain">
            <input>  fcs/longitudinal-lag </input>
            <gain>   0.190 </gain>
            <output> fcs/x-lon </output>
        </pure_gain>
	<pure_gain name="fcs/longitudinal-col-mix">
            <input>  fcs/x-col </input>
            <gain> 0.1</gain>
        </pure_gain>
        <summer name="fcs/longitudinal-ctrl-rad">
            <input> fcs/x-lon </input>
            <input> ap/elevator-cmd </input>
	    <input>fcs/longitudinal-col-mix</input>
            <bias>  -0.0440</bias>
            <clipto>
                <min> -0.7 </min>
                <max>  0.7 </max>
            </clipto>
            <output> propulsion/engine/longitudinal-ctrl-rad </output>
        </summer>
    </channel>
    
    <!--takeoff x-col = 0.135-->

    <channel name="lateral">
        <summer name="fcs/lateral-cmd-trim-sum">
            <input> fcs/aileron-cmd-norm </input>
            <input> fcs/roll-trim-cmd-norm </input>
            <clipto>
                <min> -1.0 </min>
                <max>  1.0 </max>
            </clipto>
        </summer>
        <lag_filter name="fcs/lateral-lag">
            <input> fcs/lateral-cmd-trim-sum </input>
            <c1>   20.0 </c1>
        </lag_filter>
        <pure_gain name="fcs/lateral-gain">
            <input>  fcs/lateral-lag </input>
            <gain>   0.090 </gain>
            <output> fcs/x-lat </output>
        </pure_gain>
        <pure_gain name="fcs/lateral-col-mix">
            <input>  fcs/x-col </input>
            <gain>  -0.7</gain>
        </pure_gain>
        <summer name="fcs/lateral-ctrl-rad">
            <input> fcs/x-lat </input>
            <!--<input> fcs/lateral-col-mix </input>-->
            <input> ap/aileron-cmd </input>
            <bias>  0.0058</bias>
            <clipto>
                <min> -0.7 </min>
                <max>  0.7 </max>
            </clipto>
            <output> propulsion/engine/lateral-ctrl-rad </output>
        </summer>
    </channel>

    <channel name="pedal">
        <summer name="fcs/pedal-cmd-trim-sum">
            <input> fcs/rudder-cmd-norm </input>
            <input> fcs/yaw-trim-cmd-norm </input>
            <clipto>
                <min> -1.0 </min>
                <max>  1.0 </max>
            </clipto>
        </summer>
        <lag_filter name="fcs/pedal-lag">
            <input> fcs/pedal-cmd-trim-sum </input>
            <c1>    20.0 </c1>
        </lag_filter>
        <pure_gain name="fcs/pedal-gain">
            <input>  fcs/pedal-lag </input>
            <gain>  0.1600 </gain>
            <output> fcs/x-ped </output>
        </pure_gain>
        <pure_gain name="fcs/pedal-col-mix">
            <input>  fcs/x-col </input>
            <gain> 0.04</gain>
        </pure_gain>
        <summer name="fcs/pedal-ctrl-rad">
            <input> fcs/x-ped </input>
            <!--<input> fcs/pedal-col-mix </input>-->
            <input> ap/rudder-cmd </input>
            <bias>  -0.09466</bias>
            <clipto>
                <min> -0.7 </min>
                <max>  0.7 </max>
            </clipto>
            <output> propulsion/engine[1]/antitorque-ctrl-rad </output>
        </summer>
    </channel>



</system>
